@using Umbraco.Cms.Core.Models.PublishedContent
@using Umbraco.Extensions
@using GOKCafe.Web.Models.DTOs
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage
@{
    Layout = "_Layout.cshtml";
    ViewData["Title"] = Model.Name;

    // Get data from ViewData
    var featuredProducts = ViewData["FeaturedProducts"] as List<ProductDto> ?? new List<ProductDto>();
    var categories = ViewData["Categories"] as List<CategoryDto> ?? new List<CategoryDto>();
}

@* Banner Section *@
@await Html.PartialAsync("~/Views/Partials/Homepage/_BannerSection.cshtml", Model)

@* Our Coffee Section *@
@await Html.PartialAsync("~/Views/Partials/Homepage/_OurCoffeeSection.cshtml", Model)

@* Our Tea Range Section *@
@await Html.PartialAsync("~/Views/Partials/Homepage/_OurTeaRangeSection.cshtml", Model)

@* Show All Tea Item Section *@
@await Html.PartialAsync("~/Views/Partials/Homepage/_ShowAllTea.cshtml", Model)

@* Our Partners Section *@
@await Html.PartialAsync("~/Views/Partials/Homepage/OurPartners.cshtml", Model)

@* Where To Find Us Section *@
@await Html.PartialAsync("~/Views/Partials/Homepage/WhereToFindUs.cshtml", Model)


@section Scripts {
    <script>
        function addToCart(productId) {
            // TODO: Implement add to cart functionality
            console.log('Add to cart:', productId);

            // Show notification
            alert('Product added to cart!');

            // Update cart count (placeholder)
            const cartCount = document.querySelector('.cart-count');
            if (cartCount) {
                const currentCount = parseInt(cartCount.textContent) || 0;
                cartCount.textContent = currentCount + 1;
            }
        }
    </script>
}
