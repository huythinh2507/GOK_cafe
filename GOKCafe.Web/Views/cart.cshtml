@using Umbraco.Cms.Web.Common.PublishedModels;
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage


<!-- Cart Sidebar Overlay -->
<div id="cartOverlay" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden transition-opacity duration-300" onclick="closeCartSidebar()"></div>

<!-- Voucher Condition Modal -->
<div id="voucherConditionModal" class="fixed inset-0 bg-black bg-opacity-50 z-[70] hidden flex items-center justify-center p-4" onclick="closeVoucherConditionModal(event)">
    <div class="bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto" onclick="event.stopPropagation()">
        <!-- Modal Header -->
        <div class="flex items-center justify-between p-4 border-b border-gray-200 sticky top-0 bg-white">
            <h3 class="text-lg font-bold text-gray-900">Voucher Conditions</h3>
            <button type="button" onclick="closeVoucherConditionModal()" class="text-gray-400 hover:text-gray-600 transition-colors">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
        </div>

        <!-- Modal Body -->
        <div class="p-4 space-y-4">
            <!-- Voucher Code -->
            <div class="bg-primary/10 rounded-lg p-3 text-center">
                <p class="text-xs text-gray-600 mb-1">Voucher Code</p>
                <p id="modalVoucherCode" class="text-xl font-bold text-primary uppercase tracking-wider"></p>
            </div>

            <!-- Voucher Name -->
            <div>
                <p class="text-xs text-gray-500 mb-1">Name</p>
                <p id="modalVoucherName" class="text-base font-semibold text-gray-900"></p>
            </div>

            <!-- Description -->
            <div>
                <p class="text-xs text-gray-500 mb-1">Description</p>
                <p id="modalVoucherDescription" class="text-sm text-gray-700"></p>
            </div>

            <!-- Type -->
            <div>
                <p class="text-xs text-gray-500 mb-1">Type</p>
                <p id="modalVoucherType" class="text-sm text-gray-900"></p>
            </div>

            <!-- Discount Value -->
            <div>
                <p class="text-xs text-gray-500 mb-1">Discount</p>
                <p id="modalDiscountValue" class="text-sm font-semibold text-green-600"></p>
            </div>

            <!-- Max Discount Amount -->
            <div id="modalMaxDiscountContainer">
                <p class="text-xs text-gray-500 mb-1">Maximum Discount</p>
                <p id="modalMaxDiscountAmount" class="text-sm text-gray-900"></p>
            </div>

            <!-- Min Order Amount -->
            <div>
                <p class="text-xs text-gray-500 mb-1">Minimum Order</p>
                <p id="modalMinOrderAmount" class="text-sm text-gray-900"></p>
            </div>

            <!-- Valid Period -->
            <div>
                <p class="text-xs text-gray-500 mb-1">Valid Period</p>
                <div class="flex items-center gap-2 text-sm text-gray-900">
                    <span id="modalStartDate"></span>
                    <span>-</span>
                    <span id="modalEndDate"></span>
                </div>
            </div>
        </div>

        <!-- Modal Footer -->
        <div class="p-4 border-t border-gray-200 sticky bottom-0 bg-white">
            <button type="button" onclick="closeVoucherConditionModal()" class="w-full bg-primary text-white py-2 rounded-lg font-medium hover:bg-primary/90 transition-colors">
                Close
            </button>
        </div>
    </div>
</div>

<!-- Cart Sidebar Panel -->
<div id="cartSidebar" class="fixed top-0 right-0 h-full w-full z-50  md:w-[400px] bg-white shadow-2xl z-60 transform translate-x-full transition-transform duration-300 flex flex-col">

    <!-- Cart Header -->
    <div class="flex items-center justify-between px-5 py-4 border-b border-gray-200">
        <div class="flex items-center gap-3">
            <h2 class="text-lg font-bold text-gray-900 uppercase tracking-wider">Cart</h2>
        </div>
        <div class="flex items-center gap-3">
           
            <button type="button" class="text-gray-400 hover:text-gray-700 transition-colors text-2xl leading-none w-8 h-8 flex items-center justify-center" onclick="closeCartSidebar()">
                ×
            </button>
        </div>
    </div>
    <!-- Cart Items Container (Scrollable) -->
    <div class="flex-1 overflow-y-auto px-5 py-4" id="cartItemsContainer">
        <div class="flex items-center justify-between mb-4">
            <div class="flex items-center justify-between">
                <input type="checkbox" id="selectAllCheckbox" onclick="toggleSelectAll()" class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer">
                <p class="text-gray-500 text-base ml-4">Select All item</p>
            </div>
            <button type="button" id="deleteSelectedBtn" onclick="deleteSelectedItems()" class="text-gray-500 hover:text-gray-700 hidden transition-colors" title="Delete selected items">
                <i class="fas fa-trash text-lg"></i>
            </button>
        </div>
        <!-- Cart items will be dynamically rendered here -->
        <div id="emptyCartMessage" class="hidden flex-col items-center justify-center text-center py-12">
            <i class="fas fa-shopping-cart text-6xl text-gray-300 mb-4"></i>
            <p class="text-gray-500 text-lg">Your cart is empty</p>
            <p class="text-gray-400 text-sm mt-2">Add some products to get started!</p>
        </div>

        <!-- Example Cart Item (will be used as template) -->
        <template id="cartItemTemplate">
            <div class="cart-item mb-4 pb-4 border-b border-gray-200 relative" data-item-id="">
                <!-- Remove Button -->
                <button type="button" class="absolute top-0 right-0 text-gray-400 hover:text-red-500 transition-colors cart-remove-btn">
                    <i class="fas fa-times"></i>
                </button>

                <div class="flex gap-3 pr-6">
                    <!-- Checkbox -->
                    <div class="flex items-start pt-1">
                        <input type="checkbox" class="cart-item-checkbox w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer" onchange="updateCartSelection()">
                    </div>

                    <!-- Product Image -->
                    <div class="w-16 h-20 bg-gray-100 rounded overflow-hidden flex-shrink-0">
                        <img src="" alt="" class="w-full h-full object-cover cart-item-image" />
                    </div>

                    <!-- Product Info -->
                    <div class="flex-1 flex flex-col justify-between">
                        <div>
                            <h3 class="font-semibold text-sm text-gray-900 cart-item-name mb-1">Product Name</h3>
                            <div class="text-xs text-gray-600 space-y-0.5">
                                <p class="cart-item-size"></p>
                                <p class="cart-item-grind"></p>
                            </div>
                        </div>

                        <!-- Quantity Controls & Price -->
                        <div class="flex justify-between items-center">
                            <!-- Quantity Controls -->
                            <div class="flex items-center border border-gray-300 rounded">
                                <button type="button" class="px-2 py-1 hover:bg-gray-100 transition-colors font-semibold text-sm cart-decrease-btn">
                                    -
                                </button>
                                <input type="number" value="1" min="1" class="w-10 text-center border-x border-gray-300 font-semibold text-sm cart-item-quantity" />
                                <button type="button" class="px-2 py-1 hover:bg-gray-100 transition-colors font-semibold text-sm cart-increase-btn">
                                    +
                                </button>
                            </div>

                            <!-- Price -->
                            <p class="font-semibold text-sm text-gray-900 cart-item-price"></p>
                        </div>
                    </div>
                </div>
            </div>
        </template>
        <!-- Recommended Products Section -->
    <div id="recommendedProductsSection" class="px-4 py-5 bg-white border-t border-gray-200">
        <h3 class="font-bold text-xs text-gray-900 mb-3 mt-3 uppercase tracking-wider">You May Also Like</h3>
        <div class="flex gap-4 justify-center" id="recommendedProductsContainer">
            <!-- Recommended products will be rendered here dynamically -->
        </div>
    </div>
    </div>

    

    <!-- Special Price Section - Hidden -->
    <div id="specialPriceSection" class="px-5 py-4 bg-gray-50 border-y border-gray-200 hidden">
        <h3 class="font-semibold text-xs text-gray-900 mb-3">Special price unlocked when added to cart today</h3>
        <div class="grid grid-cols-3 gap-2" id="specialPriceProducts">
            <!-- Special price products will be rendered here -->
        </div>

        <!-- Special Price Product Template -->
        <template id="specialPriceTemplate">
            <div class="special-price-item relative">
                <div class="bg-white border border-gray-200 rounded overflow-hidden">
                    <!-- Product Image -->
                    <div class="aspect-square bg-gray-100 relative">
                        <img src="" alt="" class="w-full h-full object-cover special-product-image" />
                        <!-- Price overlays -->
                        <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-2">
                            <p class="text-white text-xs font-bold special-product-price">₹149</p>
                        </div>
                    </div>
                    <!-- Product Name -->
                    <div class="p-1.5 text-center">
                        <p class="text-xs text-gray-800 truncate special-product-name">Product Name</p>
                    </div>
                </div>
                <!-- Add Button -->
                <button type="button" class="absolute top-1 right-1 bg-white rounded-full w-6 h-6 flex items-center justify-center shadow hover:bg-gray-100 transition-colors special-add-btn">
                    <span class="text-lg leading-none">+</span>
                </button>
            </div>
        </template>

        <!-- Recommended Product Template -->
        <template id="recommendedProductTemplate">
            <div class="recommended-product-item" data-product-id="">
                <!-- Product Image with Price Overlay -->
                <div class="relative" style="width: 160px; height: 160px; overflow: hidden;">
                    <img src="" alt="" class="w-full h-full object-cover recommended-product-image" />

                    <!-- Price Overlay (positioned at bottom) -->
                    <div class="recommended-price-overlay">
                        <span class="recommended-base-price"></span>
                        <span class="recommended-sale-price"></span>
                    </div>
                </div>

                <!-- Product Name -->
                <h4 class="recommended-product-name">GREEN TEA</h4>

                <!-- Add to Cart Button -->
                <button class="recommended-add-btn">
                    ADD TO CART
                </button>
            </div>
        </template>
    </div>

    <div class="flex-1 overflow-y-auto">
        <!-- Special Instructions -->
        <div class="px-5 py-3 border-b border-gray-200">
            @* <label class="block text-xs font-medium text-gray-700 mb-2" for="specialInstructions">
                Special Instructions For Seller
            </label>
            <textarea id="specialInstructions"
                    rows="2"
                    class="w-full border border-gray-300 rounded px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400 resize-none"
                    placeholder=""></textarea> *@
        </div>

        <!-- Cart Footer -->
        <div class="px-5 py-4 bg-white">
            @* <!-- Order for Someone Else (Moved to top) -->
            <div class="mb-3 pb-3 border-b border-gray-200">
                <button type="button" class="text-xs text-gray-700 hover:text-primary transition-colors flex items-center gap-2" onclick="toggleOrderForSomeoneElse()">
                    <i class="fas fa-user-friends text-sm"></i>
                    <span>ORDER FOR SOMEONE ELSE</span>
                </button>

                <!-- Order for Someone Else Form (Hidden by default) -->
                <div id="orderForSomeoneElseForm" class="hidden mt-3 space-y-2">
                    <div>
                        <label for="recipientName" class="block text-xs font-medium text-gray-700 mb-1 uppercase">Name of the Recipient</label>
                        <input type="text"
                            id="recipientName"
                            class="w-full border border-gray-300 rounded px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400"
                            placeholder="" />
                    </div>
                    <div>
                        <label for="recipientMessage" class="block text-xs font-medium text-gray-700 mb-1 uppercase">Message for Recipient</label>
                        <textarea rows="2"
                                id="recipientMessage"
                                class="w-full border border-gray-300 rounded px-2 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400 resize-none"
                                placeholder=""></textarea>
                    </div>
                </div>
            </div> *@

            <!-- Price Breakdown -->
            <div class="space-y-3 mb-4">
                <!-- Subtotal -->
                <div class="flex justify-between items-center">
                    <span class="text-sm text-gray-700">Subtotal</span>
                    <span class="text-sm font-semibold text-gray-900" id="cartSubtotal">0đ</span>
                </div>

                <!-- Coupon Input -->
                @* <div class="space-y-2">
                    <label for="couponCode" class="block text-xs font-medium text-gray-700 uppercase">Enter coupon code</label>
                    <div class="flex gap-2">
                        <input type="text"
                            id="couponCode"
                            placeholder="Enter coupon code"
                            class="flex-1 border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" />
                        <button type="button"
                                onclick="applyCoupon()"
                                class="bg-primary text-white px-4 py-2 rounded text-sm font-medium hover:bg-primary/90 transition-colors">
                            Apply
                        </button>
                    </div>
                    <p id="couponError" class="text-xs text-red-600 hidden"></p>
                    <p id="couponSuccess" class="text-xs text-green-600 hidden"></p>
                </div> *@

                <!-- Coupon Discount (Applied) -->
                <div id="couponDiscountContainer" class="hidden">
                    <div class="flex justify-between items-center">
                        <div class="flex items-center gap-2">
                            <span class="text-sm text-gray-700">Coupon discount</span>
                            <span class="text-xs text-gray-500" id="appliedCouponCode"></span>
                        </div>
                        <div class="flex items-center gap-2">
                            <span class="text-sm font-semibold text-green-600" id="couponDiscount">-0đ</span>
                            <button type="button"
                                    onclick="removeCoupon()"
                                    class="text-xs text-red-600 hover:text-red-800"
                                    title="Remove coupon">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Voucher Selection -->
                <div class="space-y-2">
                    <div class="flex items-center justify-between">
                        <label class="block text-xs font-medium text-gray-700 uppercase">GOK discount code</label>
                    </div>

                    <!-- Voucher Input Field -->
                    <div class="flex gap-2 mb-3">
                        <input type="text"
                            id="voucherCodeInput"
                            placeholder="Enter voucher code"
                            oninput="this.value = this.value.toUpperCase()"
                            class="flex-1 border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" />
                        <button type="button"
                                onclick="applyVoucherFromInput()"
                                class="bg-primary text-white px-4 py-2 rounded text-sm font-medium hover:bg-primary/90 transition-colors">
                            Apply
                        </button>
                    </div>

                    <!-- Voucher Cards Container (Horizontal Scroll) -->
                    <div class="relative">
                        <div id="voucherContainer" class="flex gap-3 overflow-x-auto pb-2 scroll-smooth hide-scrollbar snap-x snap-mandatory" style="scrollbar-width: none;">
                            <!-- Vouchers will be loaded dynamically -->
                            <div class="text-center text-gray-400 text-sm py-4 w-full">
                                Loading vouchers...
                            </div>
                        </div>

                        <!-- Scroll Navigation Buttons -->
                        <button type="button"
                                id="scrollLeftBtn"
                                onclick="scrollVouchers('left')"
                                class="hidden absolute left-0 top-1/2 -translate-y-1/2 bg-white/90 rounded-full w-8 h-8 shadow-md flex items-center justify-center hover:bg-white z-10 border border-gray-300">
                            <i class="fas fa-chevron-left text-xs text-gray-600"></i>
                        </button>
                        <button type="button"
                                id="scrollRightBtn"
                                onclick="scrollVouchers('right')"
                                class="hidden absolute right-0 top-1/2 -translate-y-1/2 bg-white/90 rounded-full w-8 h-8 shadow-md flex items-center justify-center hover:bg-white z-10 border border-gray-300">
                            <i class="fas fa-chevron-right text-xs text-gray-600"></i>
                        </button>
                    </div>

                    <!-- Voucher Card Template -->
                    <template id="voucherCardTemplate">
                        <div class="voucher-card flex-shrink-0 relative"
                             data-voucher-id=""
                             data-voucher-code=""
                             style="width: 300px;">

                            <div class="voucher-ticket"
                                 onclick="toggleVoucherSelection(this.closest('.voucher-card'))">

                                <div class="voucher-ticket__inner">

                                    <!-- Notch spacing (12px) -->
                                    <div class="voucher-ticket__notch-space"></div>

                                    <!-- Tear line -->
                                    <div class="voucher-ticket__tear"></div>

                                    <!-- Gap after tear line (12px) -->
                                    <div class="voucher-ticket__tear-gap"></div>

                                    <!-- Content -->
                                    <div class="flex-1 py-3">
                                        <div class="flex items-center gap-1 mb-1">
                                            <span class="voucher-code text-sm font-semibold uppercase text-gray-900"></span>
                                            <span class="voucher-badge text-xs text-gray-500"></span>
                                        </div>

                                        <p class="voucher-description text-xs text-gray-700 leading-snug mb-1 line-clamp-2"></p>

                                        <p class="voucher-expiry text-xs text-gray-500"></p>
                                    </div>

                                    <!-- Right side -->
                                    <div class="flex flex-col justify-between items-center px-3 py-3">
                                        <input type="radio"
                                               name="selectedVoucher"
                                               class="voucher-radio w-4 h-4 accent-blue-600"
                                               onclick="event.stopPropagation(); toggleVoucherSelection(this.closest('.voucher-card'))">

                                        <button type="button"
                                                class="text-xs text-blue-600 font-medium hover:underline voucher-condition-btn">
                                            Condition
                                        </button>
                                    </div>

                                    <div class="voucher-status-msg mt-2 text-xs font-medium hidden"></div>

                                </div>
                            </div>
                        </div>
                    </template>
                   



                </div>

                <!-- Voucher Discount -->
                <div id="voucherDiscountContainer" class="hidden">
                    <div class="flex justify-between items-center">
                        <span class="text-sm text-gray-700">Voucher discount</span>
                        <span class="text-sm font-semibold text-green-600" id="voucherDiscount">-0đ</span>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div class=" px-5">
 <!-- Divider -->
            <div class=" border-t border-gray-300 pt-3 mb-4">
                <!-- Total -->
                <div class="flex justify-between items-center">
                    <span class="text-base font-bold text-gray-900 uppercase">Total</span>
                    <span class="text-xl font-bold text-primary" id="cartTotal">0đ</span>
                </div>
            </div>

            @* <!-- Pay via Gift Cards -->
            <div class="mb-4">
                <label class="flex items-center gap-2 text-xs text-gray-700 cursor-pointer border border-gray-300 rounded px-3 py-2">
                    <input type="checkbox" id="payViaGiftCards" class="rounded border-gray-300 text-primary focus:ring-primary w-4 h-4" />
                    <i class="fas fa-gift"></i>
                    <span class="font-medium">THANH TOÁN BẰNG THẺ QUÀ TẶNG</span>
                </label>
            </div> *@

            <!-- Checkout Button -->
            <div>
                <button type="button"
                        class="w-full bg-primary text-white font-semibold py-3 text-sm hover:bg-primary/90 transition-colors uppercase tracking-wide rounded-lg"
                        onclick="proceedToCheckout()">
                    <i class="fas fa-shopping-bag mr-2"></i>
                    Proceed to Checkout
                </button>
            </div>

            <!-- All payment modes notice -->
            <p class="text-xs text-center text-gray-500 mt-3">
                All payment modes and COD available
            </p>
    </div>

</div>

@await Html.PartialAsync("Modals/_ConfirmDeleteModal")

<style>
/* Cart Sidebar Animations */
#cartSidebar.open {
    transform: translateX(0);
}

#cartOverlay.show {
    display: block;
    opacity: 1;
}

/* Smooth scrollbar for cart items */
#cartItemsContainer::-webkit-scrollbar {
    width: 6px;
}

#cartItemsContainer::-webkit-scrollbar-track {
    background: #f1f1f1;
}

#cartItemsContainer::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 3px;
}

#cartItemsContainer::-webkit-scrollbar-thumb:hover {
    background: #555;
}

/* Disable spinner on number input */
.cart-item-quantity::-webkit-outer-spin-button,
.cart-item-quantity::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

.cart-item-quantity {
    -moz-appearance: textfield;
}

/* Voucher Container Scrollbar - Hide scrollbar */
#voucherContainer {
    scroll-padding: 0 50%;
}

#voucherContainer::-webkit-scrollbar {
    display: none;
}

.hide-scrollbar {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
}

.hide-scrollbar::-webkit-scrollbar {
    display: none;  /* Chrome, Safari and Opera */
}

/* Voucher Card Styles */
.voucher-card {
    scroll-snap-align: center;
}

/* Voucher Notch Effect - Circle on left side */
.voucher-notch {
    position: relative;
    overflow: hidden; 
}

.voucher-notch::before {
    content: '';
    position: absolute;
    left: 0;
    top: 50%;
    width: 24px;
    height: 24px;
    transform: translate(-50%, -50%);
    border-radius: 0 50% 50% 0;
    background-color: #fff;
    border: 1px solid #d1d5db;
    z-index: 10;
}

.voucher-card.selected .border-gray-200 {
    border-color: #3B82F6 !important;
    background: #EFF6FF !important;
}

.voucher-card.selected .voucher-radio {
    accent-color: #3B82F6;
}

.voucher-status-msg.success {
    color: #10B981;
    display: block;
}

.voucher-status-msg.error {
    color: #EF4444;
    display: block;
}
/* ===== Voucher Ticket ===== */
.voucher-ticket {
    position: relative;
    background: #dff7e2;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    cursor: pointer;
    overflow: hidden;
}

/* Notch */
.voucher-ticket::before {
    content: "";
    position: absolute;
    top: 50%;
    width: 24px;
    height: 24px;
    background: #f3f4f6;
    border-radius: 50%;
    transform: translateY(-50%);
    z-index: 3;
}

.voucher-ticket::before {
    left: -9px;
}

.voucher-ticket::after {
    right: -9px;
}

/* Inner layout */
.voucher-ticket__inner {
    display: flex;
    align-items: stretch;
}

/* Column: notch space */
.voucher-ticket__notch-space {
    width: 20px;
    flex-shrink: 0;
}

/* Tear line column */
.voucher-ticket__tear {
    width: 1px;
    margin: 0;
    border-left: 1px dashed #d1d5db;
    flex-shrink: 0;
}

/* Gap after tear line */
.voucher-ticket__tear-gap {
    width: 12px;
    flex-shrink: 0;
}

/* Cart Item Quantity Input - Remove top and bottom borders */
.cart-item-quantity {
    border-top: none !important;
    border-bottom: none !important;
}

/* ========================================
   Recommended Products Section Styles
   ======================================== */

#recommendedProductsSection {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
}

#recommendedProductsSection::-webkit-scrollbar {
    display: none;
}

#recommendedProductsContainer {
    scrollbar-width: none;
}

.recommended-product-item {
    display: flex;
    flex-direction: column;
    align-items: stretch;
    padding: 0;
    isolation: isolate;
    width: 160px;
    min-width: 160px;
    height: auto;
    flex: none;
    flex-shrink: 0;
    cursor: pointer;
    transition: transform 0.2s ease;
    background: #FFFFFF;
    overflow: hidden;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.recommended-product-item:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.recommended-product-image {
    width: 100%;
    height: 160px;
    object-fit: cover;
    flex: none;
    order: 0;
    flex-grow: 0;
    z-index: 0;
}

/* Price Overlay - positioned at bottom of image */
.recommended-price-overlay {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 6px 8px;
    position: absolute;
    width: 100%;
    left: 0;
    bottom: 0;
    background: rgba(59, 59, 59, 0.65);
    backdrop-filter: blur(4px);
    z-index: 3;
}

/* Base Price (crossed out) */
.recommended-base-price {
    font-family: 'Poppins', sans-serif;
    font-style: normal;
    font-weight: 300;
    font-size: 11px;
    line-height: 1.4;
    text-align: center;
    text-decoration-line: line-through;
    color: #ffffff;
    margin-bottom: 2px;
}

/* Sale Price */
.recommended-sale-price {
    font-family: 'Poppins', sans-serif;
    font-style: normal;
    font-weight: 400;
    font-size: 14px;
    line-height: 1.3;
    text-align: center;
    color: #FFFFFF;
}

/* Product Name */
.recommended-product-name {
    width: 100%;
    height: auto;
    padding: 10px 8px 8px 8px;
    font-family: 'Poppins', sans-serif;
    font-style: normal;
    font-weight: 600;
    font-size: 11px;
    text-align: center;
    text-transform: uppercase;
    color: #1a1a1a;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
}

/* Add to Cart Button */
.recommended-add-btn {
    box-sizing: border-box;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 10px 16px;
    width: 100%;
    height: 38px;
    border: 1px solid #000000;
    background: #FFFFFF;
    font-family: 'Poppins', sans-serif;
    font-style: normal;
    font-weight: 600;
    font-size: 10px;
    line-height: 1;
    letter-spacing: 0.8px;
    text-align: center;
    text-transform: uppercase;
    color: #1a1a1a;
    cursor: pointer;
    transition: all 0.25s ease;
}

.recommended-add-btn:hover {
    background-color: #1a1a1a;
    color: #FFFFFF;
    border-top-color: #1a1a1a;
}

.recommended-add-btn:active {
    transform: scale(0.98);
}

@@media (max-width: 400px) {
    .recommended-product-item {
        width: 140px;
        min-width: 140px;
    }

    .recommended-product-image {
        height: 140px;
    }

    .recommended-product-name {
        font-size: 10px;
        padding: 8px 6px 6px 6px;
        min-height: 40px;
    }

    .recommended-add-btn {
        font-size: 9px;
        padding: 9px 12px;
    }
}

</style>
