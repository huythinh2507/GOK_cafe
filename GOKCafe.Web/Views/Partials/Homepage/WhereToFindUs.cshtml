@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage
@{
    var sectionTitle = "COFFEE, TEA, FOOD AND MORE";
    var sectionHeading = "WHERE TO FIND US";
    var description = "Stop by and enjoy beautiful coffees and delicious food prepared in house by our friendly staff.";
    var location = "232/23 Võ Thị Sáu, Phường Võ Thị Sáu, Quận 3, TP. Hồ Chí Minh";
    var phone = "084 838 302 882";
    var email = "hello@gok.com";
    var time = "7:00 - 22:30 (Monday - Sunday)";
    var buttonText = "View Map";
    var buttonUrl = "#";
    var image = "/images/location/store-front.jpg"; // Default static image

    // Get Where To Find Us section from Home children
    if (UmbracoContext?.Content != null)
    {
        var homeNode = UmbracoContext.Content.GetAtRoot().FirstOrDefault(x => x.ContentType.Alias == "home" || x.ContentType.Alias == "homepage");
        if (homeNode != null)
        {
            var whereToFindUsNode = homeNode.Children.FirstOrDefault(x => x.ContentType.Alias == "whereToFindUs");
            if (whereToFindUsNode != null)
            {
                // Get image (override default if exists in Umbraco)
                var imgContent = whereToFindUsNode.Value<Umbraco.Cms.Core.Models.PublishedContent.IPublishedContent>("image");
                if (imgContent != null && !string.IsNullOrEmpty(imgContent.Url()))
                {
                    image = imgContent.Url();
                }

                // Get all text fields
                var tempLocation = whereToFindUsNode.Value<string>("location");
                if (!string.IsNullOrEmpty(tempLocation)) location = tempLocation;

                var tempPhone = whereToFindUsNode.Value<string>("phone");
                if (!string.IsNullOrEmpty(tempPhone)) phone = tempPhone;

                var tempEmail = whereToFindUsNode.Value<string>("mail");
                if (!string.IsNullOrEmpty(tempEmail)) email = tempEmail;

                var tempTime = whereToFindUsNode.Value<string>("time");
                if (!string.IsNullOrEmpty(tempTime)) time = tempTime;
            }
        }
    }
}

<!-- Where To Find Us Section -->
<section class="py-16 bg-white">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid lg:grid-cols-2 gap-12 items-center">
            <!-- Left: Image -->
            <div class="order-2 lg:order-1">
                @if (!string.IsNullOrEmpty(image))
                {
                    <img src="@image" alt="Where to find us" class="w-full h-auto  shadow-lg object-cover" />
                }
                else
                {
                    <div class="w-full h-96 bg-gray-200 rounded-lg flex items-center justify-center">
                        <span class="text-gray-400">Image placeholder</span>
                    </div>
                }
            </div>

            <!-- Right: Content -->
            <div class="order-1 lg:order-2">
                <p class="text-2xl text-primary font-medium uppercase tracking-wide mb-3">@sectionTitle</p>
                <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6">@sectionHeading</h2>
                <p class="text-gray-600 text-lg mb-8">@description</p>

                <!-- Contact Information -->
                <div class="space-y-4 mb-8">
                    <!-- Location -->
                    <div class="flex items-start gap-3">
                        <svg class="w-5 h-5 text-gray-700 mt-1 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                        <span class="text-gray-700">@location</span>
                    </div>

                    <!-- Phone -->
                    <div class="flex items-center gap-3">
                        <svg class="w-5 h-5 text-gray-700 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                        </svg>
                        <span class="text-gray-700">@phone</span>
                    </div>

                    <!-- Email -->
                    <div class="flex items-center gap-3">
                        <svg class="w-5 h-5 text-gray-700 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                        </svg>
                        <span class="text-gray-700">@email</span>
                    </div>

                    <!-- Time -->
                    <div class="flex items-center gap-3">
                        <svg class="w-5 h-5 text-gray-700 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <span class="text-gray-700">@time</span>
                    </div>
                </div>

                <!-- View Map Button -->
                <a href="@buttonUrl" class="inline-block px-8 py-3 border-2 border-primary text-primary font-semibold hover:bg-primary hover:text-white transition-all duration-300">
                    @buttonText
                </a>
            </div>
        </div>
    </div>
</section>
