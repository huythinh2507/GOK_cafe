@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage

@* Breadcrumbs Component - Reusable across all pages *@
<section class="bg-white pt-8">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <nav aria-label="Breadcrumb">
            <ol class="flex items-center gap-2 text-base">
                @{
                    // Build breadcrumb path: Home -> Ancestors -> Current
                    var breadcrumbItems = new List<(string Name, string Url, bool IsActive)>();

                    // Add Home
                    var homeNode = UmbracoContext?.Content?.GetAtRoot().FirstOrDefault(x => x.ContentType.Alias == "home" || x.ContentType.Alias == "homepage");
                    if (homeNode != null)
                    {
                        breadcrumbItems.Add((homeNode.Name, homeNode.Url(), false));

                        // Add all ancestors (except root level)
                        var ancestors = Model.Ancestors().Where(x => x.Level > 1).Reverse();
                        foreach (var ancestor in ancestors)
                        {
                            breadcrumbItems.Add((ancestor.Name, ancestor.Url(), false));
                        }
                    }

                    // Add current page
                    breadcrumbItems.Add((Model.Name, Model.Url(), true));

                    // Render breadcrumbs
                    for (int i = 0; i < breadcrumbItems.Count; i++)
                    {
                        var item = breadcrumbItems[i];
                        var isFirst = i == 0;
                        var isHome = i == 0;

                        <li class="flex items-center gap-2">
                            @if (!isFirst)
                            {
                                <i class="fas fa-chevron-right text-gray-400 text-xs"></i>
                            }

                            @if (item.IsActive)
                            {
                                <span class="text-gray-900 font-medium">@item.Name</span>
                            }
                            else
                            {
                                <a href="@item.Url" class="text-gray-600 hover:text-primary transition-colors duration-200 flex items-center gap-1">
 
                                        @item.Name
                          
                                </a>
                            }
                        </li>
                    }
                }
            </ol>
        </nav>
    </div>
</section>
